<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stanbic Receipt</title>
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<style>
body{
  font-family:"Segoe UI",Arial;
  background:#f2f2f2;
  margin:0;
  padding:0;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.wrapper{
  width:375px;       /* mobile width */
  height:667px;      /* mobile height */
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:10px;
}

.receipt{
  width:100%;
  height:100%;
  background:#fff;
  padding:12px;
  border-radius:12px;
  overflow:hidden;
  box-sizing:border-box;
}

.logo{text-align:right;}
.logo img{width:60px;}

h3{
  margin:8px 0 4px;
  font-size:18px;
}

.date{
  font-size:12px;
  color:#555;
  margin-bottom:8px;
}

.divider{
  border-bottom:2px solid #2e3aa1;
  margin:10px 0;
}

.row{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  margin:4px 0;
}

.label{color:#222;}
.value{text-align:right;font-weight:500;}
.value div{margin-bottom:2px;}
.status{font-weight:600;}

.notice{
  background:#e9efff;
  padding:12px;
  margin-top:10px;
  font-size:12px;
  line-height:1.4;
}

button{
  width:100%;
  padding:10px;
  margin-top:8px;
  border:none;
  background:#1c2c8c;
  color:#fff;
  font-size:14px;
}
</style>
</head>
<body>
<div class="wrapper">
<div id="receipt" class="receipt">

  <div class="logo">
    <img src="logo.png">
  </div>

  <h3>Online Transaction Receipt</h3>
  <div class="date" id="date"></div>

  <div class="divider"></div>

  <div class="row">
    <div class="label">TRANSACTION</div>
    <div class="value">
      <div id="amount"></div>
      <div>ONE OFF PAYMENT</div>
      <div id="transDate"></div>
    </div>
  </div>

  <div class="divider"></div>

  <div class="row">
    <div class="label">BENEFICIARY</div>
    <div class="value">
      <div id="beneficiary"></div>
      <div id="beneficiaryAcc"></div>
      <div id="beneficiaryBank"></div>
    </div>
  </div>

  <div class="divider"></div>

  <div class="row">
    <div class="label">SENDER</div>
    <div class="value">
      <div id="sender"></div>
      <div id="senderAcc"></div>
      <div id="senderBank"></div>
    </div>
  </div>

  <div class="divider"></div>

  <div class="row">
    <div class="label">STATUS</div>
    <div class="value status">SUCCESSFUL</div>
  </div>

  <div class="divider"></div>

  <div class="row">
    <div class="label">NARRATION</div>
    <div class="value" id="narration"></div>
  </div>

  <div class="notice">
    <b>Notice</b><br>
    This is an online auto generated transaction receipt.<br>
    This is an authentic receipt, for further inquiries contact 0700 909 909 909<br>
    Email CustomerCareNigeria@stanbicibtc.com<br>
    Generated from Stanbic IBTC Super App
  </div>

</div>

<button onclick="downloadReceipt()">Download Image</button>
</div>

<script>
function formatMoney(amount){
  return "NGN " + Number(amount).toLocaleString(undefined,{minimumFractionDigits:2});
}

function getFullDate(){
  let d=new Date();
  return d.toLocaleString("en-GB",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});
}

function getShortDate(){
  let d=new Date();
  return d.toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"});
}

function loadReceipt(){
  date.innerHTML = getFullDate();
  transDate.innerHTML = getShortDate();

  amount.innerHTML = formatMoney(localStorage.getItem("amount"));
  beneficiary.innerHTML = localStorage.getItem("beneficiary");
  beneficiaryAcc.innerHTML = localStorage.getItem("beneficiaryAcc");
  beneficiaryBank.innerHTML = localStorage.getItem("beneficiaryBank");
  sender.innerHTML = localStorage.getItem("sender");
  senderAcc.innerHTML = localStorage.getItem("senderAcc");
  senderBank.innerHTML = localStorage.getItem("senderBank");
  narration.innerHTML = localStorage.getItem("narration");
}

function downloadReceipt(){
  const receipt = document.getElementById("receipt");
  const btn = document.querySelector("button");
  btn.style.display = "none";

  html2canvas(receipt,{scale:3}).then(canvas=>{
    let link = document.createElement("a");
    link.download = "stanbic_receipt.png";
    link.href = canvas.toDataURL();
    link.click();
    btn.style.display = "block";
  });
}

loadReceipt();
</script>
</body>
</html>